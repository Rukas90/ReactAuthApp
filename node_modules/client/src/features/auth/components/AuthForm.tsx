import { PlainButton } from "@features/shared"
import type { FormEvent } from "react"

interface Props extends Pick<React.ComponentProps<"div">, "children"> {
  onSubmit: (form: FormData) => void
  submitText: string
}

const AuthForm = ({ onSubmit, children, submitText }: Props) => {
  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {
    event.preventDefault()

    if (onSubmit) {
      onSubmit(new FormData(event.currentTarget))
    }
  }
  return (
    <form
      onSubmit={handleSubmit}
      className="flex relative w-full flex-col gap-4"
    >
      {children}
      <PlainButton
        type="submit"
        text={submitText}
        extendWidth
        className="mb-2"
      />
    </form>
  )
}
export default AuthForm
