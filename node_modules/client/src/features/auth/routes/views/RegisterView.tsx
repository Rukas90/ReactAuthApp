import { useTranslation } from "react-i18next"
import AuthView from "./AuthView"
import {
  HeaderText,
  LinkText,
  HorizontalLineLabel,
  Captcha,
} from "@features/shared"
import { RegisterForm } from "../../components"
import SocialLoginButtons from "../../components/SocialLoginButtons"
import { useRegisterForm } from "../../hooks"

const RegisterView = () => {
  const { t } = useTranslation()
  const form = useRegisterForm()

  return (
    <AuthView error={form.error}>
      <HeaderText>{t("REGISTER")}</HeaderText>
      <p className="text-stone-400">
        Already have an account? <LinkText to="/login">Login</LinkText>
      </p>
      <SocialLoginButtons />
      <HorizontalLineLabel className="py-4 text-stone-400">
        {t("OR")}
      </HorizontalLineLabel>
      <RegisterForm onSubmit={form.onSubmit} fieldErrors={form.fieldErrors} />
      <Captcha setToken={form.setCaptchaToken} />
    </AuthView>
  )
}
export default RegisterView
